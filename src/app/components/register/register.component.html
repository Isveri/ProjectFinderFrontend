<div class=" content pl-md-5 pr-md-5 mr-md-2 ml-md-2 mt-md-2 auth-background  ">
  <div class="d-inline-block ml-md-5 pl-md-5">
    <img alt ="" src="assets/img/Mid.jpg" style="width: 50px;height: 50px">
    <h1 class="d-inline-block pl-md-2">Grouper</h1>
  </div>
  <div class="justify-content-center card-body row ">
    <div class=" col-md-7">
      <app-alert></app-alert>
        <form *ngIf="!isLoading" [formGroup]="loginFormGroup" (ngSubmit)="register()">
          <div formGroupName="user" class="d-flex justify-content-center card-body">
            <div class=" card card-user col-10 " style="border-radius: 20px">
              <div class=" card-body">
                <p class=" card-text"></p>
                <h2 class="d-flex justify-content-center title">Register</h2>
                <div class="d-flex justify-content-center row">
                  <div class=" col-md-5 pr-md-1">
                    <div class="form-group">
                      <label> Login </label>
                      <input class=" form-control" required type="text" placeholder="Login" formControlName="username"/>
                      <div *ngIf="usernameInput.invalid && (usernameInput.dirty || usernameInput.touched)">
                        <mat-error *ngIf="usernameInput.errors?.['required']">
                          Login is required.
                        </mat-error>
                        <mat-error *ngIf="usernameInput.errors?.['pattern']">
                          Login must contain only a-z, A-Z, 0-9 and be between 3 to 30 characters long
                        </mat-error>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-center row">
                  <div class=" col-md-5 pr-md-1">
                    <div class="form-group">
                      <label> Email </label>
                      <input class=" form-control" required type="email" placeholder="Email" ngModel email
                             formControlName="email"/>
                      <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
                        <mat-error *ngIf="emailInput.errors?.['required']">
                          Email is required.
                        </mat-error>
                        <mat-error *ngIf="emailInput.errors?.['pattern']">
                          Wrong email structure
                        </mat-error>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-center row">
                  <div class=" col-md-5 pr-md-1">
                    <div class=" form-group">
                      <label> Password </label>
                      <div class="input-group ">
                        <input class=" form-control" placeholder="Password" required
                               [type]="fieldTextType ? 'text' : 'password'" formControlName="password"/>
                        <div class="input-group-append ">
                         <span class="input-group-text" style="background-color: transparent;">
                            <i class="fa" style="padding-left: 8px"
                               [ngClass]="{'fa-eye-slash': !fieldTextType,'fa-eye': fieldTextType}"
                               (click)="toggleFieldTextType()"></i>
                         </span>
                        </div>
                        <div *ngIf="pswdInput.invalid && (pswdInput.dirty || pswdInput.touched)">
                          <mat-error *ngIf="pswdInput.errors?.['required']">
                            Password is required.
                          </mat-error>
                          <mat-error *ngIf="pswdInput.errors?.['pattern']">
                            Password must be between 8 to 20 characters, contain minimum: one digit, small, large and special character
                          </mat-error>
                        </div>
                      </div>
                      <div class="input-group ">
                        <input class=" form-control" placeholder="Repeat password" required
                               [type]="fieldTextType ? 'text' : 'password'" formControlName="repeatPassword"/>
                        <div *ngIf="rpswdInput.invalid && (rpswdInput.dirty || rpswdInput.touched)">
                          <mat-error *ngIf="rpswdInput.errors?.['required']">
                            Password is required.
                          </mat-error>
                          <mat-error *ngIf="rpswdInput.errors?.['pattern']">
                            Password must be between 8 to 20 characters, contain minimum: one digit, small, large and special character
                          </mat-error>
                        </div>
                      </div>
                      <div class="d-flex">
                        <input type="checkbox" class="checkTerms" formControlName="checkTerm"/>
                        <label class=""> Do you accept
                          <a style="cursor: pointer; color: #ba54f5;" (click)="openTerm()">  terms</a>?
                        </label>
                        <div *ngIf="pswdInput.invalid && (pswdInput.dirty || pswdInput.touched)">
                          <mat-error *ngIf="pswdInput.errors?.['requiredTrue']">
                            You need to accept terms.
                          </mat-error>

                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-center card-description">
                  <label>Already have an account? </label>
                  <p class=" category">
                    <a routerLink="/login"> Sing in </a>
                  </p>
                </div>
                <div class="d-flex justify-content-center card-footer">
                  <button class=" btn btn-fill bg-card" type="submit"> Sing up</button>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="d-flex justify-content-center card-body " style="padding-bottom: 12rem !important;padding-top: 7rem !important" *ngIf="isLoading && !isEmailSend">
          <div class=" card card-user col-10 ">
            <div class=" card-body">
              <p class=" card-text"></p>
              <div class=" author">
                <div class=" block block-one"></div>
                <div class=" block block-two"></div>
                <div class=" block block-three"></div>
                <div class=" block block-four"></div>
              </div>
              <div class="d-flex justify-content-center">
                <h3>Sending verification email</h3>
              </div>
              <div class="d-flex justify-content-center">
                <mat-spinner diameter="50"></mat-spinner>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-center card-body " style="padding-bottom: 12rem !important;padding-top: 7rem !important"*ngIf="isEmailSend">
          <div class=" card card-user col-10 ">
            <div class=" card-body">
              <p class=" card-text"></p>
              <div class=" author">
                <div class=" block block-one"></div>
                <div class=" block block-two"></div>
                <div class=" block block-three"></div>
                <div class=" block block-four"></div>
              </div>
              <div class="d-flex justify-content-center">
                <div class="d-flex justify-content-center">
                  <h3>Verification message has been send. Check email to enable account</h3>
                </div>
                <div class="d-flex justify-content-center">
                  <br/><h3><a routerLink="/login">Back to login page</a></h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
